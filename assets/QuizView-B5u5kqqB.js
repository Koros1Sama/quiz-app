import{R as p,j as e,r as x}from"./index-BZ3F6dPv.js";const y=({question:t,currentQuestionIndex:a,userAnswer:s,onAnswer:o})=>{const{text:d,options:n}=t,r=s!==null;return e.jsxs("div",{className:"question-card",children:[e.jsxs("div",{className:"question-text",children:[e.jsxs("span",{style:{color:"var(--primary-color)"},children:["Ø³ ",a+1,":"]})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:d}})]}),e.jsx("div",{className:"options-list",children:n.map((i,c)=>{let m="option-btn";return r&&(c===s.selectedIndex?m+=i.isCorrect?" correct":" incorrect":i.isCorrect&&(m+=" correct")),e.jsx("button",{className:m,onClick:()=>o(c),disabled:r,children:e.jsx("span",{className:"ltr",dangerouslySetInnerHTML:{__html:i.text}})},c)})})]})},C=p.memo(y),N=({question:t,userAnswer:a})=>{if(!a)return null;const{options:s}=t,o=s.find(n=>n.isCorrect);if(!o)return null;const d=o.explanation||`Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: ${o.text}`;return e.jsxs("div",{className:"explanation-panel visible",style:{direction:"rtl",textAlign:"right"},children:[e.jsx("h3",{className:"explanation-title",children:"Ø§Ù„Ø´Ø±Ø­ ÙˆØ§Ù„ØªÙˆØ¶ÙŠØ­:"}),e.jsx("div",{className:"explanation-text",dangerouslySetInnerHTML:{__html:d}}),e.jsxs("div",{className:"options-breakdown",style:{marginTop:"1.5rem"},children:[e.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",working:"bold"},children:"ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª:"}),e.jsx("ul",{style:{listStyle:"none",padding:0},children:s.map((n,r)=>e.jsxs("li",{style:{marginBottom:"0.8rem",padding:"0.5rem",borderRight:`3px solid ${n.isCorrect?"#2ecc71":"#e74c3c"}`,backgroundColor:"#f8f9fa"},children:[e.jsxs("div",{style:{fontWeight:"bold",color:n.isCorrect?"#27ae60":"#c0392b"},children:[n.isCorrect?"âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©:":"âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©:"," ",n.text]}),e.jsx("div",{style:{fontSize:"0.9em",marginTop:"0.2rem",color:"#555"},children:n.isCorrect?"Ù‡ÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ø£Ù†Ù‡Ø§ ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø±Ø· Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„.":n.reverse||"Ù„Ø§ ØªØ¹ØªØ¨Ø± ØµØ­ÙŠØ­Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø³ÙŠØ§Ù‚."})]},r))})]}),e.jsx("div",{style:{marginTop:"1rem",paddingTop:"0.5rem",borderTop:"1px solid #e2e8f0"},children:t.reference_links&&t.reference_links.length>0?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"bold",fontSize:"0.9rem",color:"#6b7280"},children:"ğŸ“š Ø§Ù„Ù…ØµØ§Ø¯Ø± (W3Schools):"}),t.reference_links.map((n,r)=>e.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--primary-color)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{children:"ğŸ”—"}),e.jsxs("span",{children:["Ø±Ø§Ø¨Ø· ",r+1]}),e.jsx("span",{style:{fontSize:"0.8em"},children:"(Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ)"})]},r))]}):t.reference_link?e.jsxs("a",{href:t.reference_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--primary-color)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{children:"ğŸ“š"}),e.jsx("span",{children:"Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„ (W3Schools)"}),e.jsx("span",{style:{fontSize:"0.8em"},children:"(Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ)"})]}):null})]})},k=({questions:t,currentQuestionIndex:a,userAnswers:s,onNavigate:o})=>e.jsx("div",{className:"nav-grid",id:"questionNav",children:t.map((d,n)=>{const r=n===a,i=s[n]!==void 0;let c="nav-item";return r&&(c+=" active"),i&&(c+=" answered"),e.jsx("div",{className:c,onClick:()=>o(n),children:n+1},d.id)})}),w=p.memo(k),_=({category:t,onBack:a})=>{const[s,o]=x.useState(0),[d,n]=x.useState({}),r=t?t.questions:[],i=r.length,c=x.useCallback(l=>{n(u=>{if(u[s]||!r[s])return u;const v=r[s].options[l].isCorrect;return{...u,[s]:{selectedIndex:l,isCorrect:v}}})},[s,r]),m=x.useCallback(l=>{o(l)},[]),f=x.useCallback(()=>{o(l=>l<i-1?l+1:l)},[i]),g=x.useCallback(()=>{o(l=>l>0?l-1:l)},[]);if(!t)return e.jsx("div",{style:{padding:"2rem",textAlign:"center"},children:"Ø­Ø¯Ø« Ø®Ø·Ø£: Ø§Ù„Ù‚Ø³Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯."});if(i===0)return e.jsxs("div",{className:"quiz-view",style:{textAlign:"center",padding:"2rem"},children:[e.jsx("p",{children:"Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…ØªØ§Ø­Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… Ø­Ø§Ù„ÙŠØ§Ù‹."}),e.jsx("button",{className:"btn nav-btn home-btn",onClick:a,children:"â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹"})]});const h=r[s],j=d[s];if(!h)return e.jsx("div",{children:"ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„..."});const b=(s+1)/i*100;return e.jsxs("div",{className:"quiz-view",id:"quizView",style:{display:"block"},children:[e.jsx("button",{className:"btn nav-btn home-btn",onClick:a,children:"â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹"}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${b}%`}})}),e.jsxs("div",{style:{textAlign:"left",marginBottom:"10px",fontSize:"0.9em",color:"gray"},children:[e.jsx("span",{id:"currentQuestionNum",children:s+1})," /",e.jsx("span",{id:"totalQuestions",children:i})]}),e.jsx("div",{id:"quizContent",children:e.jsx(C,{question:h,currentQuestionIndex:s,userAnswer:j||null,onAnswer:c})}),e.jsx(N,{question:h,userAnswer:j||null}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{className:"btn nav-btn",onClick:g,disabled:s===0,children:"Ø§Ù„Ø³Ø§Ø¨Ù‚"}),e.jsx("button",{className:"btn",onClick:f,disabled:!j&&s<i-1,children:s<i-1?"Ø§Ù„ØªØ§Ù„ÙŠ":"Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù‚Ø³Ù…"})]}),e.jsx(w,{questions:r,currentQuestionIndex:s,userAnswers:d,onNavigate:m})]})};export{_ as default};
