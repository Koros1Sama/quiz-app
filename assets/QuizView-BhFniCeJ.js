import{R as h,j as e,r as x}from"./index-CnQNsemD.js";const v=({question:t,currentQuestionIndex:c,userAnswer:s,onAnswer:l})=>{const{text:d,options:r}=t,n=s!==null;return e.jsxs("div",{className:"question-card",children:[e.jsxs("div",{className:"question-text",children:[e.jsxs("span",{style:{color:"var(--primary-color)"},children:["Ø³ ",c+1,":"]})," ",e.jsx("span",{dangerouslySetInnerHTML:{__html:d}})]}),e.jsx("div",{className:"options-list",children:r.map((a,o)=>{let m="option-btn";return n&&(o===s.selectedIndex?m+=a.isCorrect?" correct":" incorrect":a.isCorrect&&(m+=" correct")),e.jsx("button",{className:m,onClick:()=>l(o),disabled:n,children:e.jsx("span",{className:"ltr",dangerouslySetInnerHTML:{__html:a.text}})},o)})})]})},y=h.memo(v),C=({question:t,userAnswer:c})=>{if(!c)return null;const{options:s}=t,l=s.find(r=>r.isCorrect);if(!l)return null;const d=l.explanation||`Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: ${l.text}`;return e.jsxs("div",{className:"explanation-panel visible",style:{direction:"rtl",textAlign:"right"},children:[e.jsx("h3",{className:"explanation-title",children:"Ø§Ù„Ø´Ø±Ø­ ÙˆØ§Ù„ØªÙˆØ¶ÙŠØ­:"}),e.jsx("div",{className:"explanation-text",dangerouslySetInnerHTML:{__html:d}}),e.jsxs("div",{className:"options-breakdown",style:{marginTop:"1.5rem"},children:[e.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",working:"bold"},children:"ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª:"}),e.jsx("ul",{style:{listStyle:"none",padding:0},children:s.map((r,n)=>e.jsxs("li",{style:{marginBottom:"0.8rem",padding:"0.5rem",borderRight:`3px solid ${r.isCorrect?"#2ecc71":"#e74c3c"}`,backgroundColor:"#f8f9fa"},children:[e.jsxs("div",{style:{fontWeight:"bold",color:r.isCorrect?"#27ae60":"#c0392b"},children:[r.isCorrect?"âœ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©:":"âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©:"," ",r.text]}),e.jsx("div",{style:{fontSize:"0.9em",marginTop:"0.2rem",color:"#555"},children:r.isCorrect?"Ù‡ÙŠ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ø£Ù†Ù‡Ø§ ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø±Ø· Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„.":r.reverse||"Ù„Ø§ ØªØ¹ØªØ¨Ø± ØµØ­ÙŠØ­Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø³ÙŠØ§Ù‚."})]},n))})]}),e.jsx("div",{style:{marginTop:"1rem",paddingTop:"0.5rem",borderTop:"1px solid #e2e8f0"},children:t.reference_links&&t.reference_links.length>0?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("span",{style:{fontWeight:"bold",fontSize:"0.9rem",color:"#6b7280"},children:"ğŸ“š Ø§Ù„Ù…ØµØ§Ø¯Ø± (W3Schools):"}),t.reference_links.map((r,n)=>e.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--primary-color)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{children:"ğŸ”—"}),e.jsxs("span",{children:["Ø±Ø§Ø¨Ø· ",n+1]}),e.jsx("span",{style:{fontSize:"0.8em"},children:"(Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ)"})]},n))]}):t.reference_link?e.jsxs("a",{href:t.reference_link,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--primary-color)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("span",{children:"ğŸ“š"}),e.jsx("span",{children:"Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„ (W3Schools)"}),e.jsx("span",{style:{fontSize:"0.8em"},children:"(Ø±Ø§Ø¨Ø· Ø®Ø§Ø±Ø¬ÙŠ)"})]}):null})]})},N=({questions:t,currentQuestionIndex:c,userAnswers:s,onNavigate:l})=>e.jsx("div",{className:"nav-grid",id:"questionNav",children:t.map((d,r)=>{const n=r===c,a=s[r]!==void 0;let o="nav-item";return n&&(o+=" active"),a&&(o+=" answered"),e.jsx("div",{className:o,onClick:()=>l(r),children:r+1},d.id)})}),k=h.memo(N),S=({category:t,onBack:c})=>{const[s,l]=x.useState(0),[d,r]=x.useState({}),n=t.questions;if(!n||n.length===0)return e.jsxs("div",{className:"quiz-view",style:{textAlign:"center",padding:"2rem"},children:[e.jsx("p",{children:"Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…ØªØ§Ø­Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… Ø­Ø§Ù„ÙŠØ§Ù‹."}),e.jsx("button",{className:"btn nav-btn home-btn",onClick:c,children:"â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹"})]});const a=n[s],o=d[s];if(!a)return e.jsx("div",{children:"ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„..."});const m=x.useCallback(i=>{r(u=>{if(u[s])return u;const b=n[s].options[i].isCorrect;return{...u,[s]:{selectedIndex:i,isCorrect:b}}})},[s,n]),p=x.useCallback(i=>{l(i)},[]),j=x.useCallback(()=>{l(i=>i<n.length-1?i+1:i)},[n.length]),g=x.useCallback(()=>{l(i=>i>0?i-1:i)},[]),f=(s+1)/n.length*100;return e.jsxs("div",{className:"quiz-view",id:"quizView",style:{display:"block"},children:[e.jsx("button",{className:"btn nav-btn home-btn",onClick:c,children:"â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹"}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${f}%`}})}),e.jsxs("div",{style:{textAlign:"left",marginBottom:"10px",fontSize:"0.9em",color:"gray"},children:[e.jsx("span",{id:"currentQuestionNum",children:s+1})," /",e.jsx("span",{id:"totalQuestions",children:n.length})]}),e.jsx("div",{id:"quizContent",children:e.jsx(y,{question:a,currentQuestionIndex:s,userAnswer:o||null,onAnswer:m})}),e.jsx(C,{question:a,userAnswer:o||null}),e.jsxs("div",{className:"controls",children:[e.jsx("button",{className:"btn nav-btn",onClick:g,disabled:s===0,children:"Ø§Ù„Ø³Ø§Ø¨Ù‚"}),e.jsx("button",{className:"btn",onClick:j,disabled:!o&&s<n.length-1,children:s<n.length-1?"Ø§Ù„ØªØ§Ù„ÙŠ":"Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ù‚Ø³Ù…"})]}),e.jsx(k,{questions:n,currentQuestionIndex:s,userAnswers:d,onNavigate:p})]})};export{S as default};
